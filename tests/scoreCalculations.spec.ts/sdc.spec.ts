import { test, expect } from "@playwright/test";
import { getScoreDecreasingIsBetter } from "@/utils/utils";
import { TestScore } from "@/types";

/**
 * SPRINT DRAG CARRY
 *
 * These are tests for calculating the Sprint Drag Carry scores from the raw performance values.
 */

// scores for males age 17-21 for SDC
const male17Sdc: TestScore[] = [
  { score: 0, raw: 209 }, // edge case
  { score: 0, raw: 208 },
  { score: 1, raw: 207 },
  { score: 2, raw: 206 },
  { score: 3, raw: 205 },
  { score: 4, raw: 204 },
  { score: 5, raw: 203 },
  { score: 6, raw: 202 },
  { score: 7, raw: 201 },
  { score: 8, raw: 200 },
  { score: 9, raw: 199 },
  { score: 10, raw: 198 },
  { score: 11, raw: 197 },
  { score: 12, raw: 196 },
  { score: 13, raw: 195 },
  { score: 14, raw: 194 },
  { score: 15, raw: 193 },
  { score: 16, raw: 192 },
  { score: 17, raw: 191 },
  { score: 18, raw: 190 },
  { score: 19, raw: 189 },
  { score: 20, raw: 188 },
  { score: 21, raw: 187 },
  { score: 22, raw: 186 },
  { score: 23, raw: 185 },
  { score: 24, raw: 184 },
  { score: 25, raw: 183 },
  { score: 26, raw: 182 },
  { score: 27, raw: 181 },
  { score: 28, raw: 180 },
  { score: 29, raw: 179 },
  { score: 30, raw: 178 },
  { score: 31, raw: 177 },
  { score: 32, raw: 176 },
  { score: 33, raw: 175 },
  { score: 34, raw: 174 },
  { score: 35, raw: 173 },
  { score: 36, raw: 172 },
  { score: 37, raw: 171 },
  { score: 38, raw: 170 },
  { score: 39, raw: 169 },
  { score: 40, raw: 168 },
  { score: 41, raw: 167 },
  { score: 42, raw: 166 },
  { score: 43, raw: 165 },
  { score: 44, raw: 164 },
  { score: 45, raw: 163 },
  { score: 46, raw: 162 },
  { score: 47, raw: 161 },
  { score: 48, raw: 160 },
  { score: 49, raw: 159 },
  { score: 50, raw: 158 },
  { score: 51, raw: 157 },
  { score: 52, raw: 156 },
  { score: 53, raw: 155 },
  { score: 54, raw: 154 },
  { score: 55, raw: 153 },
  { score: 56, raw: 152 },
  { score: 57, raw: 151 },
  { score: 58, raw: 150 },
  { score: 59, raw: 149 },
  { score: 60, raw: 148 },
  { score: 60, raw: 147 }, // edge case
  { score: 60, raw: 145 }, // edge case
  { score: 60, raw: 143 }, // edge case
  { score: 61, raw: 142 },
  { score: 62, raw: 137 },
  { score: 63, raw: 135 },
  { score: 64, raw: 133 },
  { score: 65, raw: 131 },
  { score: 65, raw: 130 }, // edge case
  { score: 66, raw: 128 },
  { score: 67, raw: 127 },
  { score: 68, raw: 126 },
  { score: 68, raw: 125 }, // edge case
  { score: 69, raw: 124 },
  { score: 70, raw: 123 },
  { score: 71, raw: 122 },
  { score: 72, raw: 121 },
  { score: 73, raw: 120 },
  { score: 74, raw: 119 },
  { score: 75, raw: 118 },
  { score: 76, raw: 117 },
  { score: 77, raw: 116 },
  { score: 78, raw: 115 },
  { score: 79, raw: 114 },
  { score: 80, raw: 113 },
  { score: 81, raw: 112 },
  { score: 82, raw: 111 },
  { score: 83, raw: 110 },
  { score: 84, raw: 109 },
  { score: 85, raw: 108 },
  { score: 86, raw: 107 },
  { score: 87, raw: 106 },
  { score: 88, raw: 105 },
  { score: 89, raw: 104 },
  { score: 90, raw: 103 },
  { score: 91, raw: 102 },
  { score: 92, raw: 101 },
  { score: 93, raw: 100 },
  { score: 94, raw: 99 },
  { score: 94, raw: 98 }, // edge case
  { score: 95, raw: 97 },
  { score: 96, raw: 96 },
  { score: 97, raw: 95 },
  { score: 98, raw: 94 },
  { score: 98, raw: 93 }, // edge case
  { score: 99, raw: 91 },
  { score: 100, raw: 89 },
  { score: 100, raw: 88 }, // edge case
];

test("SDC Scores are calculated correctly for males age 17-21", async ({
  page,
}) => {
  male17Sdc.forEach((s) => {
    const score = getScoreDecreasingIsBetter("male", "17", "sdc", s.raw);
    expect(score).toEqual(s.score);
  });
});

// scores for females age 17-21 for SDC
const female17Sdc: TestScore[] = [
  { score: 0, raw: 256 }, // edge case
  { score: 0, raw: 255 },
  { score: 1, raw: 254 },
  { score: 2, raw: 253 },
  { score: 3, raw: 252 },
  { score: 4, raw: 251 },
  { score: 5, raw: 250 },
  { score: 6, raw: 249 },
  { score: 7, raw: 248 },
  { score: 8, raw: 247 },
  { score: 9, raw: 246 },
  { score: 10, raw: 245 },
  { score: 11, raw: 244 },
  { score: 12, raw: 243 },
  { score: 13, raw: 242 },
  { score: 14, raw: 241 },
  { score: 15, raw: 240 },
  { score: 16, raw: 239 },
  { score: 17, raw: 238 },
  { score: 18, raw: 237 },
  { score: 19, raw: 236 },
  { score: 20, raw: 235 },
  { score: 21, raw: 234 },
  { score: 22, raw: 233 },
  { score: 23, raw: 232 },
  { score: 24, raw: 231 },
  { score: 25, raw: 230 },
  { score: 26, raw: 229 },
  { score: 27, raw: 228 },
  { score: 28, raw: 227 },
  { score: 29, raw: 226 },
  { score: 30, raw: 225 },
  { score: 31, raw: 224 },
  { score: 32, raw: 223 },
  { score: 33, raw: 222 },
  { score: 34, raw: 221 },
  { score: 35, raw: 220 },
  { score: 36, raw: 219 },
  { score: 37, raw: 218 },
  { score: 38, raw: 217 },
  { score: 39, raw: 216 },
  { score: 40, raw: 215 },
  { score: 41, raw: 214 },
  { score: 42, raw: 213 },
  { score: 43, raw: 212 },
  { score: 44, raw: 211 },
  { score: 45, raw: 210 },
  { score: 46, raw: 209 },
  { score: 47, raw: 208 },
  { score: 48, raw: 207 },
  { score: 49, raw: 206 },
  { score: 50, raw: 205 },
  { score: 51, raw: 204 },
  { score: 52, raw: 203 },
  { score: 53, raw: 202 },
  { score: 54, raw: 201 },
  { score: 55, raw: 200 },
  { score: 56, raw: 199 },
  { score: 57, raw: 198 },
  { score: 58, raw: 197 },
  { score: 59, raw: 196 },
  { score: 60, raw: 195 },
  { score: 61, raw: 188 },
  { score: 62, raw: 180 },
  { score: 63, raw: 178 },
  { score: 63, raw: 176 }, // edge case
  { score: 64, raw: 175 },
  { score: 65, raw: 173 },
  { score: 66, raw: 169 },
  { score: 67, raw: 167 },
  { score: 68, raw: 165 },
  { score: 69, raw: 164 },
  { score: 70, raw: 161 },
  { score: 71, raw: 160 },
  { score: 72, raw: 159 },
  { score: 73, raw: 157 },
  { score: 73, raw: 156 }, // edge case
  { score: 74, raw: 155 },
  { score: 75, raw: 154 },
  { score: 76, raw: 153 },
  { score: 77, raw: 151 },
  { score: 78, raw: 150 },
  { score: 79, raw: 149 },
  { score: 80, raw: 148 },
  { score: 80, raw: 147 }, // edge case
  { score: 81, raw: 146 },
  { score: 82, raw: 145 },
  { score: 83, raw: 144 },
  { score: 84, raw: 143 },
  { score: 85, raw: 142 },
  { score: 86, raw: 141 },
  { score: 87, raw: 140 },
  { score: 88, raw: 138 },
  { score: 89, raw: 137 },
  { score: 90, raw: 136 },
  { score: 91, raw: 134 },
  { score: 92, raw: 133 },
  { score: 93, raw: 132 },
  { score: 94, raw: 130 },
  { score: 95, raw: 128 },
  { score: 95, raw: 127 }, // edge case
  { score: 96, raw: 126 },
  { score: 97, raw: 125 },
  { score: 98, raw: 122 },
  { score: 99, raw: 119 },
  { score: 100, raw: 115 },
  { score: 100, raw: 114 }, // edge case
];

test("SDC Scores are calculated correctly for females age 17-21", async ({
  page,
}) => {
  female17Sdc.forEach((s) => {
    const score = getScoreDecreasingIsBetter("female", "17", "sdc", s.raw);
    expect(score).toEqual(s.score);
  });
});
